\hypertarget{websockets_8h}{}\doxysection{orca/common/websockets.h File Reference}
\label{websockets_8h}\index{orca/common/websockets.h@{orca/common/websockets.h}}


File containing internal functions and datatypes for Web\+Sockets client.  


{\ttfamily \#include \char`\"{}logconf.\+h\char`\"{}}\newline
Include dependency graph for websockets.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=232pt]{websockets_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{websockets_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structws__callbacks}{ws\+\_\+callbacks}}
\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{websockets_8h_a2c98aa4435bf623cdba0e8bab4303b26}{ws\+\_\+status}} \{ \mbox{\hyperlink{websockets_8h_a2c98aa4435bf623cdba0e8bab4303b26ab3328538fd15fe5c3195a5d56e3e4889}{W\+S\+\_\+\+D\+I\+S\+C\+O\+N\+N\+E\+C\+T\+ED}} = 0, 
\mbox{\hyperlink{websockets_8h_a2c98aa4435bf623cdba0e8bab4303b26af9564bb4cc0e631f03b8a7d7c1a204c9}{W\+S\+\_\+\+C\+O\+N\+N\+E\+C\+T\+ED}}, 
\mbox{\hyperlink{websockets_8h_a2c98aa4435bf623cdba0e8bab4303b26a857733861369d2ba346cfb281b04cac2}{W\+S\+\_\+\+D\+I\+S\+C\+O\+N\+N\+E\+C\+T\+I\+NG}}, 
\mbox{\hyperlink{websockets_8h_a2c98aa4435bf623cdba0e8bab4303b26ab2299292b41bdeeefe3157b6911bb2e1}{W\+S\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+NG}}
 \}
\begin{DoxyCompactList}\small\item\em The Web\+Sockets client status. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{websockets_8h_a2c25477292b8bc33d3241eecfd4da5fb}\label{websockets_8h_a2c25477292b8bc33d3241eecfd4da5fb}} 
enum {\bfseries ws\+\_\+user\+\_\+cmd} \{ {\bfseries W\+S\+\_\+\+U\+S\+E\+R\+\_\+\+C\+M\+D\+\_\+\+N\+O\+NE}, 
{\bfseries W\+S\+\_\+\+U\+S\+E\+R\+\_\+\+C\+M\+D\+\_\+\+E\+X\+IT}
 \}
\item 
enum \mbox{\hyperlink{websockets_8h_a92591a76da29adffd6f3a95bb12db08d}{ws\+\_\+close\+\_\+reason}} \{ \newline
{\bfseries W\+S\+\_\+\+C\+L\+O\+S\+E\+\_\+\+R\+E\+A\+S\+O\+N\+\_\+\+N\+O\+R\+M\+AL} = 1000, 
{\bfseries W\+S\+\_\+\+C\+L\+O\+S\+E\+\_\+\+R\+E\+A\+S\+O\+N\+\_\+\+G\+O\+I\+N\+G\+\_\+\+A\+W\+AY} = 1001, 
{\bfseries W\+S\+\_\+\+C\+L\+O\+S\+E\+\_\+\+R\+E\+A\+S\+O\+N\+\_\+\+P\+R\+O\+T\+O\+C\+O\+L\+\_\+\+E\+R\+R\+OR} = 1002, 
{\bfseries W\+S\+\_\+\+C\+L\+O\+S\+E\+\_\+\+R\+E\+A\+S\+O\+N\+\_\+\+U\+N\+E\+X\+P\+E\+C\+T\+E\+D\+\_\+\+D\+A\+TA} = 1003, 
\newline
{\bfseries W\+S\+\_\+\+C\+L\+O\+S\+E\+\_\+\+R\+E\+A\+S\+O\+N\+\_\+\+N\+O\+\_\+\+R\+E\+A\+S\+ON} = 1005, 
{\bfseries W\+S\+\_\+\+C\+L\+O\+S\+E\+\_\+\+R\+E\+A\+S\+O\+N\+\_\+\+A\+B\+R\+U\+P\+T\+LY} = 1006, 
{\bfseries W\+S\+\_\+\+C\+L\+O\+S\+E\+\_\+\+R\+E\+A\+S\+O\+N\+\_\+\+I\+N\+C\+O\+N\+S\+I\+S\+T\+E\+N\+T\+\_\+\+D\+A\+TA} = 1007, 
{\bfseries W\+S\+\_\+\+C\+L\+O\+S\+E\+\_\+\+R\+E\+A\+S\+O\+N\+\_\+\+P\+O\+L\+I\+C\+Y\+\_\+\+V\+I\+O\+L\+A\+T\+I\+ON} = 1008, 
\newline
{\bfseries W\+S\+\_\+\+C\+L\+O\+S\+E\+\_\+\+R\+E\+A\+S\+O\+N\+\_\+\+T\+O\+O\+\_\+\+B\+IG} = 1009, 
{\bfseries W\+S\+\_\+\+C\+L\+O\+S\+E\+\_\+\+R\+E\+A\+S\+O\+N\+\_\+\+M\+I\+S\+S\+I\+N\+G\+\_\+\+E\+X\+T\+E\+N\+S\+I\+ON} = 1010, 
{\bfseries W\+S\+\_\+\+C\+L\+O\+S\+E\+\_\+\+R\+E\+A\+S\+O\+N\+\_\+\+S\+E\+R\+V\+E\+R\+\_\+\+E\+R\+R\+OR} = 1011, 
{\bfseries W\+S\+\_\+\+C\+L\+O\+S\+E\+\_\+\+R\+E\+A\+S\+O\+N\+\_\+\+I\+A\+N\+A\+\_\+\+R\+E\+G\+I\+S\+T\+R\+Y\+\_\+\+S\+T\+A\+RT} = 3000, 
\newline
{\bfseries W\+S\+\_\+\+C\+L\+O\+S\+E\+\_\+\+R\+E\+A\+S\+O\+N\+\_\+\+I\+A\+N\+A\+\_\+\+R\+E\+G\+I\+S\+T\+R\+Y\+\_\+\+E\+ND} = 3999, 
{\bfseries W\+S\+\_\+\+C\+L\+O\+S\+E\+\_\+\+R\+E\+A\+S\+O\+N\+\_\+\+P\+R\+I\+V\+A\+T\+E\+\_\+\+S\+T\+A\+RT} = 4000, 
{\bfseries W\+S\+\_\+\+C\+L\+O\+S\+E\+\_\+\+R\+E\+A\+S\+O\+N\+\_\+\+P\+R\+I\+V\+A\+T\+E\+\_\+\+E\+ND} = 4999
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
struct websockets $\ast$ \mbox{\hyperlink{websockets_8h_a4ff8bbffc8cf3172ff02f5233315796b}{ws\+\_\+init}} (struct \mbox{\hyperlink{structws__callbacks}{ws\+\_\+callbacks}} $\ast$cbs, struct logconf $\ast$config)
\begin{DoxyCompactList}\small\item\em Create a new (C\+U\+R\+L-\/based) Web\+Sockets handle. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{websockets_8h_ad45b500790fffec540211cda5d1dbd0f}{ws\+\_\+cleanup}} (struct websockets $\ast$ws)
\begin{DoxyCompactList}\small\item\em Free a Web\+Sockets handle created with \mbox{\hyperlink{websockets_8h_a4ff8bbffc8cf3172ff02f5233315796b}{ws\+\_\+init()}} \end{DoxyCompactList}\item 
void \mbox{\hyperlink{websockets_8h_ac709a5d97d06af442ec647d3ff275cbf}{ws\+\_\+set\+\_\+url}} (struct websockets $\ast$ws, const char base\+\_\+url\mbox{[}$\,$\mbox{]}, const char ws\+\_\+protocols\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Set the U\+RL for the Web\+Sockets handle to connect. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{websockets_8h_a0cedef20b1e0a94d5fa19a6a391d31e5}{ws\+\_\+send\+\_\+text}} (struct websockets $\ast$ws, char text\mbox{[}$\,$\mbox{]}, size\+\_\+t len)
\begin{DoxyCompactList}\small\item\em Send a text message of given size. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{websockets_8h_a66074fd9ea27d36bafd1dcd9a8fe8cc8}{ws\+\_\+start}} (struct websockets $\ast$ws)
\begin{DoxyCompactList}\small\item\em Signals connecting state before entering the Web\+Sockets event loop. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{websockets_8h_a0ee64c7a7e5fc1c34a311bb4777bdafc}{ws\+\_\+perform}} (struct websockets $\ast$ws, \+\_\+\+Bool $\ast$is\+\_\+running, uint64\+\_\+t wait\+\_\+ms)
\begin{DoxyCompactList}\small\item\em Reads/\+Write available data from Web\+Sockets. \end{DoxyCompactList}\item 
uint64\+\_\+t \mbox{\hyperlink{websockets_8h_a65d5b02ac193585416446eae1061c93d}{ws\+\_\+timestamp}} (struct websockets $\ast$ws)
\begin{DoxyCompactList}\small\item\em The Web\+Sockets handle concept of \char`\"{}now\char`\"{}. \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{websockets_8h_a2c98aa4435bf623cdba0e8bab4303b26}{ws\+\_\+status}} \mbox{\hyperlink{websockets_8h_acdd4872611e9c663ffbfd3c67deb0b79}{ws\+\_\+get\+\_\+status}} (struct websockets $\ast$ws)
\begin{DoxyCompactList}\small\item\em Returns the Web\+Sockets handle connection status. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{websockets_8h_aec6eb7399dc87efe08a10b5366077716}{ws\+\_\+close\+\_\+opcode\+\_\+print}} (enum \mbox{\hyperlink{websockets_8h_a92591a76da29adffd6f3a95bb12db08d}{ws\+\_\+close\+\_\+reason}} opcode)
\begin{DoxyCompactList}\small\item\em Returns a enum ws\+\_\+close\+\_\+reason opcode in a string format. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{websockets_8h_acc7d4f818e65c5af96619d507fd27b49}{ws\+\_\+is\+\_\+alive}} (struct websockets $\ast$ws)
\begin{DoxyCompactList}\small\item\em Check if a Web\+Sockets connection is alive. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{websockets_8h_a3e893a76e1030e2e81e8e2981cec3dc2}{ws\+\_\+is\+\_\+functional}} (struct websockets $\ast$ws)
\begin{DoxyCompactList}\small\item\em Check if Web\+Sockets connection is active. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{websockets_8h_aa512cf01fd8d1c302101f7707ce06c04}\label{websockets_8h_aa512cf01fd8d1c302101f7707ce06c04}} 
void {\bfseries ws\+\_\+exit\+\_\+event\+\_\+loop} (struct websockets $\ast$ws)
\item 
\mbox{\Hypertarget{websockets_8h_ad8c8d337b38d18386668ce800013f172}\label{websockets_8h_ad8c8d337b38d18386668ce800013f172}} 
bool {\bfseries ws\+\_\+same\+\_\+thread} (struct websockets $\ast$ws)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
File containing internal functions and datatypes for Web\+Sockets client. 

\begin{DoxyAuthor}{Author}
cee-\/studio 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
21 Jun 2021 
\end{DoxyDate}


\doxysubsection{Enumeration Type Documentation}
\mbox{\Hypertarget{websockets_8h_a92591a76da29adffd6f3a95bb12db08d}\label{websockets_8h_a92591a76da29adffd6f3a95bb12db08d}} 
\index{websockets.h@{websockets.h}!ws\_close\_reason@{ws\_close\_reason}}
\index{ws\_close\_reason@{ws\_close\_reason}!websockets.h@{websockets.h}}
\doxysubsubsection{\texorpdfstring{ws\_close\_reason}{ws\_close\_reason}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{websockets_8h_a92591a76da29adffd6f3a95bb12db08d}{ws\+\_\+close\+\_\+reason}}}

\begin{DoxySeeAlso}{See also}
\href{https://tools.ietf.org/html/rfc6455\#section-7.4.1}{\texttt{ https\+://tools.\+ietf.\+org/html/rfc6455\#section-\/7.\+4.\+1}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{websockets_8h_a2c98aa4435bf623cdba0e8bab4303b26}\label{websockets_8h_a2c98aa4435bf623cdba0e8bab4303b26}} 
\index{websockets.h@{websockets.h}!ws\_status@{ws\_status}}
\index{ws\_status@{ws\_status}!websockets.h@{websockets.h}}
\doxysubsubsection{\texorpdfstring{ws\_status}{ws\_status}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{websockets_8h_a2c98aa4435bf623cdba0e8bab4303b26}{ws\+\_\+status}}}



The Web\+Sockets client status. 

\begin{DoxySeeAlso}{See also}
\mbox{\hyperlink{websockets_8h_acdd4872611e9c663ffbfd3c67deb0b79}{ws\+\_\+get\+\_\+status()}} 
\end{DoxySeeAlso}
\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{WS\_DISCONNECTED@{WS\_DISCONNECTED}!websockets.h@{websockets.h}}\index{websockets.h@{websockets.h}!WS\_DISCONNECTED@{WS\_DISCONNECTED}}}\mbox{\Hypertarget{websockets_8h_a2c98aa4435bf623cdba0e8bab4303b26ab3328538fd15fe5c3195a5d56e3e4889}\label{websockets_8h_a2c98aa4435bf623cdba0e8bab4303b26ab3328538fd15fe5c3195a5d56e3e4889}} 
W\+S\+\_\+\+D\+I\+S\+C\+O\+N\+N\+E\+C\+T\+ED&client disconnected from ws \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{WS\_CONNECTED@{WS\_CONNECTED}!websockets.h@{websockets.h}}\index{websockets.h@{websockets.h}!WS\_CONNECTED@{WS\_CONNECTED}}}\mbox{\Hypertarget{websockets_8h_a2c98aa4435bf623cdba0e8bab4303b26af9564bb4cc0e631f03b8a7d7c1a204c9}\label{websockets_8h_a2c98aa4435bf623cdba0e8bab4303b26af9564bb4cc0e631f03b8a7d7c1a204c9}} 
W\+S\+\_\+\+C\+O\+N\+N\+E\+C\+T\+ED&client connected to ws \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{WS\_DISCONNECTING@{WS\_DISCONNECTING}!websockets.h@{websockets.h}}\index{websockets.h@{websockets.h}!WS\_DISCONNECTING@{WS\_DISCONNECTING}}}\mbox{\Hypertarget{websockets_8h_a2c98aa4435bf623cdba0e8bab4303b26a857733861369d2ba346cfb281b04cac2}\label{websockets_8h_a2c98aa4435bf623cdba0e8bab4303b26a857733861369d2ba346cfb281b04cac2}} 
W\+S\+\_\+\+D\+I\+S\+C\+O\+N\+N\+E\+C\+T\+I\+NG&client in the process of disconnecting to ws \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{WS\_CONNECTING@{WS\_CONNECTING}!websockets.h@{websockets.h}}\index{websockets.h@{websockets.h}!WS\_CONNECTING@{WS\_CONNECTING}}}\mbox{\Hypertarget{websockets_8h_a2c98aa4435bf623cdba0e8bab4303b26ab2299292b41bdeeefe3157b6911bb2e1}\label{websockets_8h_a2c98aa4435bf623cdba0e8bab4303b26ab2299292b41bdeeefe3157b6911bb2e1}} 
W\+S\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+NG&client in the process of connecting from ws \\
\hline

\end{DoxyEnumFields}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{websockets_8h_ad45b500790fffec540211cda5d1dbd0f}\label{websockets_8h_ad45b500790fffec540211cda5d1dbd0f}} 
\index{websockets.h@{websockets.h}!ws\_cleanup@{ws\_cleanup}}
\index{ws\_cleanup@{ws\_cleanup}!websockets.h@{websockets.h}}
\doxysubsubsection{\texorpdfstring{ws\_cleanup()}{ws\_cleanup()}}
{\footnotesize\ttfamily void ws\+\_\+cleanup (\begin{DoxyParamCaption}\item[{struct websockets $\ast$}]{ws }\end{DoxyParamCaption})}



Free a Web\+Sockets handle created with \mbox{\hyperlink{websockets_8h_a4ff8bbffc8cf3172ff02f5233315796b}{ws\+\_\+init()}} 


\begin{DoxyParams}{Parameters}
{\em ws} & the Web\+Sockets handle created with \mbox{\hyperlink{websockets_8h_a4ff8bbffc8cf3172ff02f5233315796b}{ws\+\_\+init()}} \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{websockets_8h_aec6eb7399dc87efe08a10b5366077716}\label{websockets_8h_aec6eb7399dc87efe08a10b5366077716}} 
\index{websockets.h@{websockets.h}!ws\_close\_opcode\_print@{ws\_close\_opcode\_print}}
\index{ws\_close\_opcode\_print@{ws\_close\_opcode\_print}!websockets.h@{websockets.h}}
\doxysubsubsection{\texorpdfstring{ws\_close\_opcode\_print()}{ws\_close\_opcode\_print()}}
{\footnotesize\ttfamily char$\ast$ ws\+\_\+close\+\_\+opcode\+\_\+print (\begin{DoxyParamCaption}\item[{enum \mbox{\hyperlink{websockets_8h_a92591a76da29adffd6f3a95bb12db08d}{ws\+\_\+close\+\_\+reason}}}]{opcode }\end{DoxyParamCaption})}



Returns a enum ws\+\_\+close\+\_\+reason opcode in a string format. 


\begin{DoxyParams}{Parameters}
{\em opcode} & the opcode to be converted to string \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a read-\/only string literal of the opcode 
\end{DoxyReturn}
\mbox{\Hypertarget{websockets_8h_acdd4872611e9c663ffbfd3c67deb0b79}\label{websockets_8h_acdd4872611e9c663ffbfd3c67deb0b79}} 
\index{websockets.h@{websockets.h}!ws\_get\_status@{ws\_get\_status}}
\index{ws\_get\_status@{ws\_get\_status}!websockets.h@{websockets.h}}
\doxysubsubsection{\texorpdfstring{ws\_get\_status()}{ws\_get\_status()}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{websockets_8h_a2c98aa4435bf623cdba0e8bab4303b26}{ws\+\_\+status}} ws\+\_\+get\+\_\+status (\begin{DoxyParamCaption}\item[{struct websockets $\ast$}]{ws }\end{DoxyParamCaption})}



Returns the Web\+Sockets handle connection status. 


\begin{DoxyParams}{Parameters}
{\em ws} & the Web\+Sockets handle created with \mbox{\hyperlink{websockets_8h_a4ff8bbffc8cf3172ff02f5233315796b}{ws\+\_\+init()}} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a ws\+\_\+status opcode 
\end{DoxyReturn}
\mbox{\Hypertarget{websockets_8h_a4ff8bbffc8cf3172ff02f5233315796b}\label{websockets_8h_a4ff8bbffc8cf3172ff02f5233315796b}} 
\index{websockets.h@{websockets.h}!ws\_init@{ws\_init}}
\index{ws\_init@{ws\_init}!websockets.h@{websockets.h}}
\doxysubsubsection{\texorpdfstring{ws\_init()}{ws\_init()}}
{\footnotesize\ttfamily struct websockets$\ast$ ws\+\_\+init (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structws__callbacks}{ws\+\_\+callbacks}} $\ast$}]{cbs,  }\item[{struct logconf $\ast$}]{config }\end{DoxyParamCaption})}



Create a new (C\+U\+R\+L-\/based) Web\+Sockets handle. 


\begin{DoxyParams}{Parameters}
{\em cbs} & set of functions to call back when server report events. \\
\hline
{\em config} & optional pointer to a pre-\/initialized logconf \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
newly created Web\+Sockets handle, free with \mbox{\hyperlink{websockets_8h_ad45b500790fffec540211cda5d1dbd0f}{ws\+\_\+cleanup()}} 
\end{DoxyReturn}
\mbox{\Hypertarget{websockets_8h_acc7d4f818e65c5af96619d507fd27b49}\label{websockets_8h_acc7d4f818e65c5af96619d507fd27b49}} 
\index{websockets.h@{websockets.h}!ws\_is\_alive@{ws\_is\_alive}}
\index{ws\_is\_alive@{ws\_is\_alive}!websockets.h@{websockets.h}}
\doxysubsubsection{\texorpdfstring{ws\_is\_alive()}{ws\_is\_alive()}}
{\footnotesize\ttfamily bool ws\+\_\+is\+\_\+alive (\begin{DoxyParamCaption}\item[{struct websockets $\ast$}]{ws }\end{DoxyParamCaption})}



Check if a Web\+Sockets connection is alive. 


\begin{DoxyParams}{Parameters}
{\em ws} & the Web\+Sockets handle created with \mbox{\hyperlink{websockets_8h_a4ff8bbffc8cf3172ff02f5233315796b}{ws\+\_\+init()}} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
T\+R\+UE if Web\+Sockets status is different than W\+S\+\_\+\+D\+I\+S\+C\+O\+N\+N\+E\+C\+T\+ED, F\+A\+L\+SE otherwise. 
\end{DoxyReturn}
\mbox{\Hypertarget{websockets_8h_a3e893a76e1030e2e81e8e2981cec3dc2}\label{websockets_8h_a3e893a76e1030e2e81e8e2981cec3dc2}} 
\index{websockets.h@{websockets.h}!ws\_is\_functional@{ws\_is\_functional}}
\index{ws\_is\_functional@{ws\_is\_functional}!websockets.h@{websockets.h}}
\doxysubsubsection{\texorpdfstring{ws\_is\_functional()}{ws\_is\_functional()}}
{\footnotesize\ttfamily bool ws\+\_\+is\+\_\+functional (\begin{DoxyParamCaption}\item[{struct websockets $\ast$}]{ws }\end{DoxyParamCaption})}



Check if Web\+Sockets connection is active. 


\begin{DoxyParams}{Parameters}
{\em ws} & the Web\+Sockets handle created with \mbox{\hyperlink{websockets_8h_a4ff8bbffc8cf3172ff02f5233315796b}{ws\+\_\+init()}} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if is function, false otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{websockets_8h_a0ee64c7a7e5fc1c34a311bb4777bdafc}\label{websockets_8h_a0ee64c7a7e5fc1c34a311bb4777bdafc}} 
\index{websockets.h@{websockets.h}!ws\_perform@{ws\_perform}}
\index{ws\_perform@{ws\_perform}!websockets.h@{websockets.h}}
\doxysubsubsection{\texorpdfstring{ws\_perform()}{ws\_perform()}}
{\footnotesize\ttfamily void ws\+\_\+perform (\begin{DoxyParamCaption}\item[{struct websockets $\ast$}]{ws,  }\item[{\+\_\+\+Bool $\ast$}]{is\+\_\+running,  }\item[{uint64\+\_\+t}]{wait\+\_\+ms }\end{DoxyParamCaption})}



Reads/\+Write available data from Web\+Sockets. 

Helper over curl\+\_\+multi\+\_\+perform()


\begin{DoxyParams}{Parameters}
{\em ws} & the Web\+Sockets handle created with \mbox{\hyperlink{websockets_8h_a4ff8bbffc8cf3172ff02f5233315796b}{ws\+\_\+init()}} \\
\hline
{\em is\+\_\+running} & receives true if the client is running and false otherwise \\
\hline
{\em wait\+\_\+ms} & limit amount in milliseconds to wait for until activity \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\href{https://curl.se/libcurl/c/curl_multi_perform.html}{\texttt{ https\+://curl.\+se/libcurl/c/curl\+\_\+multi\+\_\+perform.\+html}} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{websockets_8h_a0cedef20b1e0a94d5fa19a6a391d31e5}\label{websockets_8h_a0cedef20b1e0a94d5fa19a6a391d31e5}} 
\index{websockets.h@{websockets.h}!ws\_send\_text@{ws\_send\_text}}
\index{ws\_send\_text@{ws\_send\_text}!websockets.h@{websockets.h}}
\doxysubsubsection{\texorpdfstring{ws\_send\_text()}{ws\_send\_text()}}
{\footnotesize\ttfamily bool ws\+\_\+send\+\_\+text (\begin{DoxyParamCaption}\item[{struct websockets $\ast$}]{ws,  }\item[{char}]{text\mbox{[}$\,$\mbox{]},  }\item[{size\+\_\+t}]{len }\end{DoxyParamCaption})}



Send a text message of given size. 

Text messages do not need to include the null terminator (\textbackslash{}0), they will be read up to {\itshape len}.


\begin{DoxyParams}{Parameters}
{\em ws} & the Web\+Sockets handle created with \mbox{\hyperlink{websockets_8h_a4ff8bbffc8cf3172ff02f5233315796b}{ws\+\_\+init()}} \\
\hline
{\em text} & the pointer to memory (linear) to send. \\
\hline
{\em len} & the length in bytes of {\itshape text}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if sent, false on errors. 
\end{DoxyReturn}
\mbox{\Hypertarget{websockets_8h_ac709a5d97d06af442ec647d3ff275cbf}\label{websockets_8h_ac709a5d97d06af442ec647d3ff275cbf}} 
\index{websockets.h@{websockets.h}!ws\_set\_url@{ws\_set\_url}}
\index{ws\_set\_url@{ws\_set\_url}!websockets.h@{websockets.h}}
\doxysubsubsection{\texorpdfstring{ws\_set\_url()}{ws\_set\_url()}}
{\footnotesize\ttfamily void ws\+\_\+set\+\_\+url (\begin{DoxyParamCaption}\item[{struct websockets $\ast$}]{ws,  }\item[{const char}]{base\+\_\+url\mbox{[}$\,$\mbox{]},  }\item[{const char}]{ws\+\_\+protocols\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Set the U\+RL for the Web\+Sockets handle to connect. 


\begin{DoxyParams}{Parameters}
{\em ws} & the Web\+Sockets handle created with \mbox{\hyperlink{websockets_8h_a4ff8bbffc8cf3172ff02f5233315796b}{ws\+\_\+init()}} \\
\hline
{\em base\+\_\+url} & the U\+RL to connect, such as ws\+://echo.websockets.\+org \\
\hline
{\em ws\+\_\+protocols} & N\+U\+LL or something like \char`\"{}chat\char`\"{}, \char`\"{}superchat\char`\"{},... \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{websockets_8h_a66074fd9ea27d36bafd1dcd9a8fe8cc8}\label{websockets_8h_a66074fd9ea27d36bafd1dcd9a8fe8cc8}} 
\index{websockets.h@{websockets.h}!ws\_start@{ws\_start}}
\index{ws\_start@{ws\_start}!websockets.h@{websockets.h}}
\doxysubsubsection{\texorpdfstring{ws\_start()}{ws\_start()}}
{\footnotesize\ttfamily void ws\+\_\+start (\begin{DoxyParamCaption}\item[{struct websockets $\ast$}]{ws }\end{DoxyParamCaption})}



Signals connecting state before entering the Web\+Sockets event loop. 


\begin{DoxyParams}{Parameters}
{\em ws} & the Web\+Sockets handle created with \mbox{\hyperlink{websockets_8h_a4ff8bbffc8cf3172ff02f5233315796b}{ws\+\_\+init()}} \\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
Helper over \+\_\+ws\+\_\+set\+\_\+status(ws, W\+S\+\_\+\+C\+O\+N\+N\+E\+C\+T\+I\+N\+G) 
\end{DoxyNote}
\mbox{\Hypertarget{websockets_8h_a65d5b02ac193585416446eae1061c93d}\label{websockets_8h_a65d5b02ac193585416446eae1061c93d}} 
\index{websockets.h@{websockets.h}!ws\_timestamp@{ws\_timestamp}}
\index{ws\_timestamp@{ws\_timestamp}!websockets.h@{websockets.h}}
\doxysubsubsection{\texorpdfstring{ws\_timestamp()}{ws\_timestamp()}}
{\footnotesize\ttfamily uint64\+\_\+t ws\+\_\+timestamp (\begin{DoxyParamCaption}\item[{struct websockets $\ast$}]{ws }\end{DoxyParamCaption})}



The Web\+Sockets handle concept of \char`\"{}now\char`\"{}. 


\begin{DoxyParams}{Parameters}
{\em ws} & the Web\+Sockets handle created with \mbox{\hyperlink{websockets_8h_a4ff8bbffc8cf3172ff02f5233315796b}{ws\+\_\+init()}} \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the timestamp in milliseconds from when \mbox{\hyperlink{websockets_8h_a0ee64c7a7e5fc1c34a311bb4777bdafc}{ws\+\_\+perform()}} was last called 
\end{DoxyReturn}
\begin{DoxyNote}{Note}
the timestamp is updated at every \mbox{\hyperlink{websockets_8h_a0ee64c7a7e5fc1c34a311bb4777bdafc}{ws\+\_\+perform()}} call 
\end{DoxyNote}
